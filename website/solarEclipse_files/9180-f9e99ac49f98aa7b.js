"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9180],{54747:function(e,t,n){var r=n(27573),o=n(74101),a=n(23042),i=n(57019),c=n(7653),s=n(78031),l=n(53603),u=n(61996);let d=()=>((0,u.t)(),null);t.default=e=>{let{children:t,takeover:n,channel:u}=e,{deviceType:f}=(0,c.useContext)(l.Z);return(0,r.jsx)(i.d,{channel:u,children:(0,r.jsxs)(a.b.Provider,{value:{takeover:n},children:[(0,r.jsx)(d,{}),(0,r.jsx)(s.Z,{apiKey:"mobile"===f?o.publicRuntimeConfig.mobileApiKey:o.publicRuntimeConfig.apiKey,children:t})]})})}},1919:function(e,t,n){n.d(t,{C:function(){return s}});var r=n(27573),o=n(81695),a=n(27522),i=n(7653);let c="39588136",s={c1:"2",c2:c,options:{enableFirstPartyCookie:!0}};t.default=function(){let e=(0,o.usePathname)(),t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{var n;t.current!==e&&(t.current="",(null===(n=window.COMSCORE)||void 0===n?void 0:n.beacon)&&(console.log("comscore beacon for ",e),window.COMSCORE.beacon(s),fetch("/comscore-page-view")))},[e]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.default,{id:"comscore",strategy:"beforeInteractive",children:"\n                var _comscore = _comscore || []; _comscore.push(".concat(JSON.stringify(s),');\n                (function() {\n                    var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true; s.src = "https://sb.scorecardresearch.com/cs/').concat(c,'/beacon.js";\n                    el.parentNode.insertBefore(s, el);\n                })();')})})}},38560:function(e,t,n){n.r(t),n.d(t,{DESKTOP_AD_DIMENSIONS:function(){return d},DESKTOP_CONTAINER_HEIGHT:function(){return l},KevelLeaderboardAd:function(){return p},MOBILE_AD_DIMENSIONS:function(){return f},MOBILE_CONTAINER_HEIGHT:function(){return u},UNIT_NAME:function(){return h}});var r=n(27573),o=n(60070),a=n(610),i=n(53603),c=n(7653),s=n(62843);let l=120,u=70,d=[728,90],f=[320,50],h="top_leaderboard",p=()=>{let{kevelClientData:e}=(0,c.useContext)(a.Z),{deviceType:t}=(0,c.useContext)(i.Z),n=(0,o.EQ)(e,"banner"),u="desktop"===t?s.VC:f[0],d="desktop"===t?l:f[1];return(0,r.jsx)("div",{className:"z-stickyAd md:w-desktopWidth sticky top-0 mx-auto w-full",style:{aspectRatio:u/d},children:n&&(0,r.jsx)("img",{src:"https://media.giphy.com/media/".concat(n,"/giphy.webp"),alt:"",height:d,width:u,className:"h-full w-full object-cover"})})};t.default=()=>{let{deviceType:e}=(0,c.useContext)(i.Z),{isHTLAdEnabled:t,pageName:n}=(0,c.useContext)(a.Z),o="htlad-".concat(e,"_").concat(h,"_").concat(n);return t(h)&&(0,r.jsx)("div",{className:"z-stickyAd bg-giphyDarkestGrey sticky top-0 flex h-[70px] flex-wrap items-center justify-center md:h-[120px]",children:(0,r.jsx)("div",{className:"bg-giphyDarkGrey h-[50px] w-[320px] overflow-auto rounded md:h-[90px] md:w-[728px]",children:(0,r.jsx)("div",{className:o})})})}},64474:function(e,t,n){n.d(t,{_p:function(){return b}});var r=n(27573),o=n(40604),a=n(1919),i=n(81899),c=n(64070),s=n(81695),l=n(7653),u=n(30138),d=n(5974),f=n(62843),h=n(88223),p=n(53603),g=n(79122),v=n(55846),x=n(23137);let m=(0,c.default)(()=>Promise.all([n.e(3108),n.e(1661),n.e(8146),n.e(3920),n.e(6873),n.e(401),n.e(492),n.e(299),n.e(7280),n.e(9295)]).then(n.bind(n,17280)),{loadableGenerated:{webpack:()=>[17280]},ssr:!1}),b=(0,l.createContext)({gifs:[],setGifs:()=>{}}),w=d.ZP.p.withConfig({componentId:"sc-fe0f260b-0"})(["text-align:center;padding:10px;"]);t.ZP=e=>{let{initialGifs:t=[],fetchGifs:n,gaTrackingUrl:c,width:d,columns:E,columnOffsets:C,onGifClick:y,overlay:k,noShowMessage:_,externalGifs:N,setExternalGifs:j}=e,[S,I]=(0,l.useState)(!0),P=(0,s.useRouter)(),T=(0,s.usePathname)(),L=(0,l.useRef)("kevel-placeholder-".concat(T)),O=(0,o.lp)(t,L.current),[Z,R]=function(e,t,n){let[r,o]=(0,l.useState)(e);return[t||r,n||o]}(O,N,j);(0,o.yg)(R,L.current);let[A,G]=(0,l.useState)(0);(0,x.$)(c,A);let{deviceType:D,isBot:M}=(0,l.useContext)(p.Z),{width:H}=(0,u.Z)(375),$=(0,v.Z)(),B=(0,l.useRef)(new Set([H])),[V,K]=(0,l.useState)(375);(0,l.useEffect)(()=>{B.current.size>2&&K(H),B.current.add(H)},[H]);let z=$||M&&/^(\/explore\/|\/$)/.test(T),F="desktop"===D;z&&(F=H>=h.gv.breakpointWidth);let U=(0,l.useMemo)(()=>z?{rootMargin:"0px 0px 250px 0px"}:void 0,[z]),W=(0,l.useMemo)(()=>null==O?void 0:O.map(e=>e.id),[O]);return S||0!==Z.length?(0,r.jsx)(b.Provider,{value:{gifs:Z,setGifs:R},children:(0,r.jsx)(i.Grid,{columns:E||(F?4:2),width:d||(F?f.VC:V),percentWidth:F?void 0:"100%",fetchGifs:async e=>{var t;let r=await n(e);return(null===(t=window.COMSCORE)||void 0===t?void 0:t.beacon)&&(window.COMSCORE.beacon(a.C),fetch("/comscore-page-view")),0===r.data.length&&(null==O?void 0:O.length)===0&&I(!1),r},externalGifs:Z,initialGifs:O,eagerIds:W,onGifClick:(e,t)=>{y?y(e,t):(t.preventDefault(),t.stopPropagation(),P.push((0,g.Hn)(e.url)))},gutter:F?12:void 0,overlay:k||(F?m:void 0),hideAttribution:!0,loaderConfig:U,onGifsFetched:e=>{G(e.length),R(e)},columnOffsets:C})}):_?(0,r.jsx)(w,{children:_}):null}},23137:function(e,t,n){n.d(t,{$:function(){return a}});var r=n(7653),o=n(61996);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,[a,i]=(0,r.useState)([0,1]);(0,r.useEffect)(()=>{let r=Math.floor(t/n)+1;!a.includes(r)&&(i([...a,r]),e&&(0,o.Z)(e(r)))},[e,t,a,n])}},78031:function(e,t,n){n.d(t,{x:function(){return A},Z:function(){return M}});var r=n(27573),o=n(40604),a=n(86393),i=n(38560),c=n(23042),s=n(610),l=n(14789),u=n(21447),d=n(84390),f=n(81899),h=n(23733),p=n(64070),g=n(81695),v=n(7653),x=n(5974),m=n(56522),b=n(43036),w=n(62843),E=n(88223),C=n(14683),y=n(6928),k=n(45874),_=n.n(k),N=n(74101),j=e=>{let{takeover:t}=e,{host:n,pathname:o}=new URL(t.img_src),a="giphy.com"===n?"".concat(N.xj).concat(o):t.img_src;return(0,r.jsx)("a",{href:t.href,target:"_blank",style:{top:10,right:68},className:"absolute hidden cursor-pointer md:block",onClick:()=>{(0,h.u2)({event:"ad_banner_clicked",options:{banner:{bannerName:"searchbar_takeover"}}})},children:(0,r.jsx)("img",{src:a,height:68,width:400,alt:"",onLoad:()=>{(0,h.u2)({event:"ad_banner_viewed",options:{banner:{bannerName:"searchbar_takeover"}}})}})})};let S=(0,p.default)(()=>Promise.all([n.e(1661),n.e(8146),n.e(1270)]).then(n.bind(n,61270)),{loadableGenerated:{webpack:()=>[61270]}}),I=(0,p.default)(()=>n.e(1206).then(n.bind(n,11206)),{loadableGenerated:{webpack:()=>[11206]}}),P=(0,p.default)(()=>n.e(6101).then(n.bind(n,36101)),{loadableGenerated:{webpack:()=>[36101]}}),T=(0,x.ZP)(f.SearchBar).withConfig({componentId:"sc-536d6c31-0"})(["input{font-size:22px;padding-left:14px;font-family:",";","}"," .giphy-search-bar-cancel{width:22px;height:22px;margin-right:10px;","}"],_().style.fontFamily,e=>e.$hasTakeover&&(0,x.iv)(["width:","px;flex:unset;"],e.$isStuck?360:540),e=>e.$hasTakeover&&(0,x.iv)(["justify-content:space-between;"]),e=>e.$hasTakeover&&(0,x.iv)(["position:absolute;left:","px;margin:0;"],540)),L=x.ZP.div.withConfig({componentId:"sc-536d6c31-1"})(["display:none;"," ",""],(0,E.gv)((0,x.iv)(["top:0;display:block;position:absolute;height:","px;display:flex;align-items:center;z-index:",";"],68,w.yV)),e=>{let{$isStuck:t,$hasTopLeaderboardAd:n}=e;return t&&(0,E.gv)((0,x.iv)(["position:fixed;top:","px;transform:translate3d(0,78px,0);transition:transform 0.5s cubic-bezier(0.165,0.84,0.44,1) 0.3s;"],n?i.DESKTOP_CONTAINER_HEIGHT-70:-70))}),O=x.ZP.div.withConfig({componentId:"sc-536d6c31-2"})(["padding:5px 0;",""],(0,E.gv)((0,x.iv)(["padding:","px 0 0;"],10))),Z=x.ZP.div.withConfig({componentId:"sc-536d6c31-3"})(["background-color:",";width:100%;z-index:",";position:sticky;top:-1px;"," ",""],d.eF,w.u0,e=>{let{$hasTopLeaderboardAd:t}=e;return t&&"top: ".concat(i.MOBILE_CONTAINER_HEIGHT-1,"px;")},e=>{let{$hasTopLeaderboardAd:t}=e;return t&&(0,E.gv)((0,x.iv)(["top:","px;"],i.DESKTOP_CONTAINER_HEIGHT-1))}),R=x.ZP.div.withConfig({componentId:"sc-536d6c31-4"})(["width:100%;"," ",""],(0,E.gv)((0,x.iv)(["transition:width 0.3s cubic-bezier(0.165,0.84,0.44,1) 0s;margin-left:auto;"])),e=>{let{$isStuck:t}=e;return t&&(0,E.gv)((0,x.iv)(["width:calc(100% - ","px);padding-bottom:8px;"],m.Gc))}),A=(0,v.createContext)({ignoreTarget:"",setIgnoreTarget:()=>{}}),G=e=>{let{isStuck:t}=e,{autoFocus:n}=(0,v.useContext)(u.z),a=(0,o.kx)(),{takeover:i}=(0,v.useContext)(c.b),[s,l]=(0,v.useState)(0),{activeChannel:d}=(0,v.useContext)(f.SearchContext),p=(0,g.useRouter)(),x=(0,v.useCallback)(e=>{if(e){let t=encodeURIComponent((0,C.Kx)(e).replace(/ /g,"-").replace("/",""));if((0,h.u2)({event:"search",options:{searchType:"search",searchTerm:t}}),d){let e="@".concat(d.slug.trim().toLowerCase());p.push("/search/?q=".concat(e,"+").concat(t))}else{let e=a?"gifs"===a?"":"-".concat(a):"";p.push("/search/".concat(t).concat(e))}}},[d,p,a]);return(0,v.useEffect)(()=>{let e=setTimeout(()=>l(0===s?1:0),3e3);return()=>clearTimeout(e)},[s]),(0,r.jsxs)(O,{children:[(0,r.jsx)(T,{$isStuck:t,$hasTakeover:!!i,placeholder:["Search all the GIFs and Stickers","@username to search channels"][s],onEnter:x,autoFocus:n}),i&&(0,r.jsx)(j,{takeover:i})]})},D=x.ZP.div.withConfig({componentId:"sc-536d6c31-5"})(["",""],(0,E.gv)((0,x.iv)(["position:relative;width:","px;margin:0 auto;"],w.VC)));var M=e=>{let{apiKey:t,children:n}=e,o=(0,g.useRouter)(),{user:c}=(0,v.useContext)(y.Z),{term:u=""}=(0,g.useParams)(),[d]=(0,a.Rr)(u),{favorites:h}=(0,v.useContext)(l.ZP),[p,x]=(0,v.useState)(""),w=(0,v.useRef)(null),[E,C]=(0,v.useState)(!1),{hasTopLeaderboardAd:k}=(0,v.useContext)(s.Z);return(0,v.useEffect)(()=>{let e;return w.current&&(e=new IntersectionObserver(e=>{let[t]=e;C(t.intersectionRatio<1)},{threshold:[1],rootMargin:"".concat(k?-i.DESKTOP_CONTAINER_HEIGHT:0,"px 1000px 1000px 1000px")})).observe(w.current),()=>null==e?void 0:e.disconnect()},[k]),(0,r.jsxs)(D,{children:[(0,r.jsx)(A.Provider,{value:{setIgnoreTarget:x,ignoreTarget:p},children:(0,r.jsxs)(f.SearchContextManager,{initialTerm:d,apiKey:t,shouldFetchChannels:!1,theme:{searchbarHeight:68,mobileSearchbarHeight:68},children:[(0,r.jsx)(I,{}),(0,r.jsx)(m.ZP,{user:c,onLogoClick:()=>{o.push("/")},hasFavorites:h.length>0}),(0,r.jsx)(L,{$hasTopLeaderboardAd:k,$isStuck:E,children:(0,r.jsx)(b.ZP,{})}),(0,r.jsx)(Z,{$hasTopLeaderboardAd:k,ref:w,children:(0,r.jsxs)(R,{$isStuck:E,children:[(0,r.jsx)(G,{isStuck:E}),(0,r.jsx)(S,{isStuck:E})]})}),n]})}),(0,r.jsx)(P,{})]})}},23042:function(e,t,n){n.d(t,{b:function(){return r}});let r=(0,n(7653).createContext)({takeover:void 0})},57019:function(e,t,n){n.d(t,{d:function(){return a},g:function(){return o}});var r=n(27573);let o=(0,n(7653).createContext)({channel:void 0}),a=e=>{let{channel:t,children:n}=e;return(0,r.jsx)(o.Provider,{value:{channel:t},children:n})}},21447:function(e,t,n){n.d(t,{z:function(){return i}});var r=n(27573),o=n(53603),a=n(7653);let i=(0,a.createContext)({autoFocus:!1});t.Z=e=>{let{children:t}=e,{deviceType:n}=(0,a.useContext)(o.Z),[c,s]=(0,a.useState)("desktop"===n);(0,a.useEffect)(()=>{s(!1)},[]);let l=(0,a.useMemo)(()=>({autoFocus:c}),[c]);return(0,r.jsx)(i.Provider,{value:l,children:t})}},61996:function(e,t,n){n.d(t,{Z:function(){return d},t:function(){return f}});var r=n(57019),o=n(53603),a=n(23733),i=n(7653),c=n(91306),s=n(6928);let l=window||{},u={ENABLED:l.DEBUG||l.location&&(0===location.href.indexOf("http://local.giphy.com")||-1!==location.search.indexOf("debug=true")),LEVEL:0,debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.ENABLED&&u.LEVEL<=0&&console.debug(...t)},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.ENABLED&&u.LEVEL<=1&&console.info(...t)},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.ENABLED&&u.LEVEL<=2&&console.warn(...t)},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.ENABLED&&u.LEVEL<=3&&console.error(...t)}},d=e=>{e&&(u.debug("trackPageView virtualPageURL: ".concat(e)),window.didomiOnReady.push(()=>{u.debug("SEND: trackPageView virtualPageURL: ".concat(e)),window.dataLayer.push({event:"VirtualPageview",virtualPageURL:e,virtualPageName:e,...(0,a.yU)()})}))},f=()=>{let{channel:e}=(0,i.useContext)(r.g),{deviceType:t}=(0,i.useContext)(o.Z),n=(0,a.bM)(),[l,u]=(0,c.Z)("login_type",n.platform||"email"),{user:d,hasFetchedUser:f}=(0,i.useContext)(s.Z);(0,i.useEffect)(()=>{(0,a.wj)({creatorId:e?"".concat(e.id):void 0,creatorName:null==e?void 0:e.user.username})},[e]),(0,i.useEffect)(()=>{if(f){let r=(0,a.PR)();if(d){var e;r={userID:"".concat(d.id),userType:d.is_staff?"staff":d.user_type,loginMethod:n.platform||l,dashboardAnalytics:d.permissions.dashboard_analytics,verifiedStatus:d.is_verified,loggedInStatus:!0,userLanguage:null===(e=navigator)||void 0===e?void 0:e.language,siteType:t}}(0,a.av)(r),n.action&&(u(n.platform),(0,a.u2)({event:"".concat(n.action,"_form_success"),options:{form:{formName:n.action}}})),window.dataLayer=window.dataLayer||[],window.dataLayer.push((0,a.rD)())}},[f])}}}]);
//# sourceMappingURL=9180-f9e99ac49f98aa7b.js.map