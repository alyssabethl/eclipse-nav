"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9729],{45885:function(t,e,n){n.d(e,{Gs:function(){return s},Ni:function(){return l},Ox:function(){return u},a3:function(){return a}});var i=n(74101),r=n(79122),o=n(42787);let u=async(t,e)=>{let n=(0,r.B5)(new URL("".concat(i.publicRuntimeConfig.apiUrl,"user/favorites")),t),u=await (0,o.BB)({url:n,options:{method:"GET",credentials:"same-origin",headers:{authorization:"Token ".concat(e),"Content-Type":"application/json"}}});return await u.json()},a=async(t,e,n)=>c(t,e,n,"POST"),l=async(t,e,n)=>c(t,e,n,"DELETE"),c=async(t,e,n,i)=>{let r=await (0,o.BB)({url:d("user/favorites",e),options:{method:i,body:"gif_id=".concat(t),headers:{cookie:n,Accept:"application/json",Authorization:"Token ".concat(e),"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}}});return await r.json()},s=async(t,e)=>{let n=await (0,o.BB)({url:d("user/favorites/statuses",e),options:{method:"POST",headers:{Authorization:"Token ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({gif_ids:[t]})}});return(await n.json()).data.length>0};function d(t,e){let n;let o="".concat(i.publicRuntimeConfig.apiUrl).concat(t);try{n=new URL(o)}catch(t){throw console.error("Invalid URL:",o),t}return(0,r.B5)(n,{api_key:i.publicRuntimeConfig.apiKey,access_token:e})}},40604:function(t,e,n){n.d(e,{$5:function(){return R},At:function(){return y},FY:function(){return T},SL:function(){return S},el:function(){return b},kx:function(){return A},lp:function(){return k},yg:function(){return C},zT:function(){return x}});var i=n(73750),r=n(54944),o=n(74101),u=n(66206),a=n(60070),l=n(86393),c=n(83812),s=n(610),d=n(81695),f=n(7653),p=n(82125),h=n(27222),g=n(8026);let{apiUrl:v,mobileApiKey:m}=o.publicRuntimeConfig,_=v.replace("v1","v2"),w=t=>new URLSearchParams(t).toString();function y(t){let e=(0,c.t)();return(0,p.ZP)(t||null,t=>e.gif(t).then(t=>t.data))}function k(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,{isKevelAdEnabled:i}=(0,f.useContext)(s.Z),r=i("grid");return(0,f.useMemo)(()=>{let i=(0,u.ZP)({id:e},{width:250,height:250});return r&&!t.some(t=>t.id===e)&&n<t.length?(0,g.J2)(t,n,i):t},[t,r,n,e])}function C(t,e){let{kevelClientData:n,isKevelAdEnabled:i}=(0,f.useContext)(s.Z),r=i("grid"),{data:o}=y(n?(0,a.EQ)(n,"grid"):"");(0,f.useEffect)(()=>{r&&o&&t(t=>{let n=t.findIndex(t=>t.id===e);return -1!==n?(0,g.i9)(t,n,o):t})},[o,r,e,t])}function A(){var t;let e=(0,d.useParams)(),n=null===(t=(0,d.useSearchParams)().get("type"))||void 0===t?void 0:t.toLowerCase();if(i.qg.includes(n))return n;let[,r]=e.term?(0,l.Rr)(e.term):[];return i.qg.includes(r)?r:"gifs"}function x(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,h.Z)(t?(0,r.G)(t):null)}function b(t){return(0,h.Z)((0,r.G)(t.id),null,{fallback:{[(0,r.G)(t.id)]:t}})}let S=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.ZP)("".concat(_,"trending/searches?").concat(w({...e,q:t,api_key:m})))},R=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.ZP)(t?"".concat(v,"channels/search?").concat(w({...e,q:t.replace("@",""),api_key:m})):null)},T=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.ZP)("".concat(v,"gifs/search/tags?").concat(w({...e,q:t,api_key:m})))}},73750:function(t,e,n){n.d(e,{qg:function(){return i}});let i=["gifs","stickers","clips"]},54944:function(t,e,n){n.d(e,{G:function(){return r}});var i=n(74101);function r(t){return"".concat(i.df,"/api/v4/channels/").concat(t)}},66206:function(t,e,n){n.d(e,{eh:function(){return u}});var i=n(22942),r=n.n(i);let o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return["fixed_width","downsized","fixed_height_small_still","fixed_width_downsampled","downsized_large","original","original_still","fixed_height_still","fixed_width_small","fixed_height_downsampled","looping","downsized_small","fixed_width_small_still","downsized_medium","preview","fixed_height","fixed_width_still","fixed_height_small","downsized_still"].reduce((i,r)=>(i[r]={url:n||"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",width:t,height:e},i),{})},u=t=>!!t[a],a=Symbol("isPlaceholder");e.ZP=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{[a]:!0,bitly_url:"",create_datetime:"",embed_url:"",id:r()("placeholder"),images:{...o(null==e?void 0:e.width,null==e?void 0:e.height,null==e?void 0:e.src)},import_datetime:"",is_anonymous:!1,is_community:!1,is_featured:!1,is_hidden:!1,is_indexable:!1,is_realtime:!1,is_removed:!1,is_sticker:!1,rating:"g",slug:"",tags:[],trending_datetime:"",update_datetime:"",username:"",url:"",...t}}},60070:function(t,e,n){n.d(e,{EQ:function(){return l},RF:function(){return f},ee:function(){return c},j7:function(){return s},jq:function(){return d}});var i=n(74101);let r=i.publicRuntimeConfig.kevelSiteId,o=i.publicRuntimeConfig.kevelNetworkId,u="https://e-".concat(o,".adzerk.net/api/v2"),a=function(t,e){var n,i,r;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"raw";return null==t?void 0:null===(r=t.decisions)||void 0===r?void 0:null===(i=r[e])||void 0===i?void 0:null===(n=i.contents)||void 0===n?void 0:n.find(t=>t.type===o)},l=function(t,e){var n,i;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"raw";return null===(i=a(t,e,r))||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.ctgif_id},c=(t,e)=>{var n,i;return null===(i=a(t,e,"html"))||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.imageUrl},s={divName:"banner",adType:4,properties:{type:1}},d={divName:"grid",adType:23};function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e||t)return{decisions:{banner:{contents:[{type:"raw",data:{ctgif_id:t}}]},grid:{contents:[{type:"raw",data:{ctgif_id:e}}]}}}}let p=async t=>{let{placements:e,rating:n="unrated",keywords:i,region:a}=t,l={consent:{gdpr:!0},placements:e.map(t=>{let{divName:e,adType:u,properties:l={}}=t;return{divName:e,networkId:o,siteId:r,adTypes:[u],eventIds:[],properties:{rating:n,region:a,...l},keywords:i}})},c=await fetch(u,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(l)});return await c.json()};e.ZP=p},86393:function(t,e,n){n.d(e,{Rr:function(){return o}}),n(81695);var i=n(14683),r=n(61752);let o=t=>{var e;let n=(0,r.eC)(t),o=(e=n,/(^|-)(transparents?|stickers?)(-|$)/.test(e)?"stickers":e.endsWith("-clips")||e.endsWith("-with-sound")?"clips":"gifs");return[n=(0,i.Kx)(n).replace(/-/g," ").trim(),o]}},83812:function(t,e,n){n.d(e,{P:function(){return a},t:function(){return l}});var i=n(2159),r=n(7653),o=n(74101),u=n(53603);let a=()=>{let{deviceType:t}=(0,r.useContext)(u.Z);return"mobile"===t?o.publicRuntimeConfig.mobileApiKey:o.publicRuntimeConfig.apiKey},l=()=>{let t=a();return(0,r.useMemo)(()=>new i.sF(t),[t])}},610:function(t,e,n){let i=(0,n(7653).createContext)({htlAds:[],banner:void 0,isKevelAdEnabled:()=>!1,isHTLAdEnabled:()=>!1,pageName:void 0,kevelClientData:void 0});e.Z=i},14789:function(t,e,n){n.d(e,{c5:function(){return c},k1:function(){return f},xL:function(){return d}});var i=n(27573),r=n(45885),o=n(7653),u=n(6928);let a=(0,o.createContext)({favorites:[],setFavorites:()=>{},hasChecked:[],setHasChecked:()=>{}}),l=t=>{let{user:e}=(0,o.useContext)(u.Z),n=(0,o.useState)([]),[i,r]=(0,o.useState)(!1),a=(0,o.useRef)(!1),[l,c]=n;return(0,o.useEffect)(()=>{if(e){if(!a.current){a.current=!0;let n=window.localStorage.getItem(t);s(n?JSON.parse(n):[],e,t)}}else if(i)try{window.localStorage.setItem(t,JSON.stringify(Array.from(new Set(l))))}catch(e){console.error("failed to set ".concat(t," in local"))}else try{let e=window.localStorage.getItem(t);c(e?JSON.parse(e):[]),r(!0)}catch(t){}},[i,t,c,l,e]),n},c=t=>{let{children:e}=t,[n,r]=l("local-favorites"),[u,c]=(0,o.useState)([]);return(0,o.useEffect)(()=>{},[]),(0,i.jsx)(a.Provider,{value:{favorites:n,setFavorites:r,hasChecked:u,setHasChecked:c},children:e})};async function s(t,e,n){let i=t[0];if(i)try{setTimeout(async()=>{await (0,r.a3)(i,e.token,document.cookie),window.localStorage.setItem(n,JSON.stringify(t.filter(t=>t!==i))),s(t.slice(1),e,n)},100)}catch(t){console.error("failed to sync favorite ".concat(i),t)}}function d(t){let{user:e}=(0,o.useContext)(u.Z),{favorites:n,setFavorites:i,hasChecked:l,setHasChecked:c}=(0,o.useContext)(a),s=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{async function n(t){if(e){let n=await (0,r.Gs)(t,e.token);i(e=>{let i=e.includes(t);return n&&!i?[...e,t]:!n&&i?e.filter(e=>e!==t):e}),c(e=>[...e,t])}}!t||s.current||l.includes(t)||(s.current=!0,n(t))},[l,t,i,c,e]),t)return e?l.includes(t)?n.includes(t):void 0:n.includes(t)}function f(){let{user:t}=(0,o.useContext)(u.Z),{favorites:e,setFavorites:n}=(0,o.useContext)(a);return async function(i){let o=e.includes(i);if(t)return o?o&&(await (0,r.Ni)(i,t.token,document.cookie),n(t=>t.filter(t=>t!==i))):(await (0,r.a3)(i,t.token,document.cookie),n(t=>[...t,i])),!o;o?n(t=>t.filter(t=>t!==i)):n(t=>[...t,i])}}e.ZP=a},53603:function(t,e,n){let i=(0,n(7653).createContext)({deviceType:void 0,isBot:!1});e.Z=i},6928:function(t,e,n){let i=(0,n(7653).createContext)({user:{},hasFetchedUser:!1});e.Z=i},79122:function(t,e,n){n.d(e,{B5:function(){return u},Hn:function(){return i},OR:function(){return l},W5:function(){return s},dr:function(){return r},ej:function(){return o},oH:function(){return a},xl:function(){return c}});let i=t=>"/".concat(t.replace(/^(?:\/\/|[^\/]+)*\//,"")),r=(t,e)=>{e.preventDefault(),e.stopPropagation(),location.href=i(t.url)};function o(t,e){let n=(e||document.cookie).split(";");for(let e=0;e<n.length;e++){let i=n[e].trim();if(i.startsWith(t+"="))return i.substring(t.length+1)}return""}let u=(t,e)=>(Object.entries(e).forEach(e=>{let[n,i]=e;t.searchParams.append(n,i)}),t),a=t=>t.replace(/ /g,"-");function l(t){return t.split("-").pop()}function c(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{method:"POST",headers:{Accept:"application/json","Content-Type":e?"multipart/form-data":"application/json","X-CSRFToken":t,"X-Requested-With":"XMLHttpRequest",credentials:"same-origin"}}}let s=(t,e)=>{let{results:n=[]}=t,i=n.length;return{data:n,pagination:{count:i,total_count:1/0,offset:e},meta:{msg:"",response_id:"",status:200}}}},55846:function(t,e,n){var i=n(7653);e.Z=function(){let[t,e]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{e(!0)},[]),t}}}]);
//# sourceMappingURL=9729-acb82cc92c48dab1.js.map